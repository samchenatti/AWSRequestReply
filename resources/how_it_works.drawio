<mxfile host="app.diagrams.net" modified="2023-05-21T01:32:22.360Z" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36" etag="F_7JStQdFg1eB0fbZ8dW" version="21.3.2" type="device">
  <diagram name="PÃ¡gina-1" id="0FvOd_g-gn_crSac-Caq">
    <mxGraphModel dx="1434" dy="741" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="6sn5ypedY1-yad9TUlJv-1" value="Requester" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="60" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-2" value="Replier" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="530" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="6sn5ypedY1-yad9TUlJv-3" target="6sn5ypedY1-yad9TUlJv-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-3" value="Requester" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="50" y="230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-4" value="Tenant 1 Requesters" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="40" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-5" value="Requester" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="60" y="400" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="6sn5ypedY1-yad9TUlJv-6" target="6sn5ypedY1-yad9TUlJv-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-6" value="Requester" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="50" y="390" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-7" value="Tenant 2 Requesters" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="40" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-8" value="Replier" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="520" y="300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="6sn5ypedY1-yad9TUlJv-10" target="6sn5ypedY1-yad9TUlJv-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-10" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="220" y="300" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-11" value="#8" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="233" y="305" width="20" height="50" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-14" value="#7" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="263" y="305" width="20" height="50" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-15" value="#6" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="293" y="305" width="20" height="50" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-16" value="#5" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="323" y="305" width="20" height="50" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-17" value="#4" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="353" y="305" width="20" height="50" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-18" value="#3" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="383" y="305" width="20" height="50" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-19" value="#2" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="413" y="305" width="20" height="50" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-20" value="#1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#b85450;dashed=1;fontStyle=2;fontColor=#B3B3B3;" vertex="1" parent="1">
          <mxGeometry x="443" y="305" width="20" height="50" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-21" value="&lt;h1&gt;#1&lt;/h1&gt;&lt;p&gt;The requester put a message in the Request queue and it&#39;s code blocks&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="40" y="110" width="190" height="100" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-22" value="&lt;h1&gt;#2&lt;/h1&gt;&lt;p&gt;Each message is assigned an unique MessageId by SQS, and message ordering between tenant&#39;s is ensured by the Fifo queue&#39;s MessageGroupId&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="253" y="150" width="190" height="140" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-9" value="Repliers" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="510" y="290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-24" value="&lt;h1&gt;#3&lt;/h1&gt;&lt;p&gt;Repliers processess the messages in batches. After finishing, the result is published in a Redis Pub/Sub topic, named with the MessageId&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="510" y="140" width="190" height="130" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-26" value="Redis" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="520" y="420" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="6sn5ypedY1-yad9TUlJv-27" target="6sn5ypedY1-yad9TUlJv-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-27" value="TopicName: #1&lt;br&gt;Result: &quot;hello!&quot;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="535" y="450" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="6sn5ypedY1-yad9TUlJv-8" target="6sn5ypedY1-yad9TUlJv-27">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="660" y="330" />
              <mxPoint x="660" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="6sn5ypedY1-yad9TUlJv-31" value="&lt;h1&gt;#4&lt;/h1&gt;&lt;p&gt;The result becomes avaiable in the topic, and therefore the code execution can continue.&lt;/p&gt;&lt;p&gt;If it takes too long to receive a result, the code times-out and raises an Exception&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="30" y="490" width="190" height="150" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
